{% extends 'user/home.html' %}
{% load static %}
{% block title %} <title>Dashboard Page </title>{% endblock title %}
{% block content %}
<div class="col-sm-12">
  {% if messages %}
    {% for msg in messages %}
      <p {% if msg.tags %} class='alert alert-{{msg.tags}} mb-5' {% endif %}> {{msg}} </p> <br>
    {% endfor %}
  {% endif %} 
    &nbsp &nbsp <a href="{% url 'newpost' %}" class="btn btn-light m-1">Add Post</a>
    <h4 class="text-center alert alert-info mt-2">Show Post Information</h4>
    {% if posts %}
      <table class="table table-hover bg-white">
        <thead>
          <tr>
            <th scope='col' style='width:2%; padding-left:14px;'>ID</th>
            <th scope='col' style='width:18%;padding-left:14px;'>Post By</th>
            <th scope='col' style='width:45%;padding-left:10px;'>Text</th>
            <th scope='col' style='width:18%;padding-left:14px;'>Created At</th>
            <th scope='col' style='width:24%;padding-left:14px;'>Updated At</th>
            <th scope='col' style='width:20%;padding-left:14px;'>Action</th>
          </tr>
        </thead>
        <tbody>
          {% for post in posts %}
            <tr>
              <th scope='row' style='padding-left:14px;'>{{post.id}} </th>
              <td style='padding-left:12px;'> {{full_name}} </td>
              <td style='padding-left:12px;'> {{post.text}} </td>
              <td style='padding-left:12px;'> {{post.created_at}} </td>
              <td style='padding-left:12px;'> {{post.updated_at}} </td>
              <td>
                <a href="{% url 'update' post.id %}" class="btn btn-sm btn-warning my-3">Edit</a> 
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
    <h4 class="text-center alert alert-warning">No Records</h4>
    {% endif %}
  </div>
{% endblock content %}